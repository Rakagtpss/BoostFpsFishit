--[[ 
 RakaHensem Utility V5.7 - Dual Delay Customization
 Updated by: Gemini
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Lighting = game:GetService("Lighting")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local VirtualUser = game:GetService("VirtualUser")

local Player = Players.LocalPlayer
local Char = Player.Character or Player.CharacterAdded:Wait()
local HRP = Char:WaitForChild("HumanoidRootPart")

-- // STATE & CONFIG \\ --
getgenv().fishingStart = false
local FishingBlocker = { Enabled = false, AutoGreat = true }
local fishArgs = { -1.115296483039856, 0, 1763651451.636425 }

-- Dual Delay Variables
local baitDelay = 0.56  -- Delay nunggu ikan (Bait)
local reelDelay = 1.15  -- Delay tarik/lempar (Reel)

-- // UI SETUP \\ --
if CoreGui:FindFirstChild("RakaBoostV") then CoreGui.RakaBoostV:Destroy() end
local Gui = Instance.new("ScreenGui", CoreGui); Gui.Name = "RakaBoostV"
local MainFrame = Instance.new("Frame", Gui)
MainFrame.Size = UDim2.new(0, 180, 0, 330) -- Ukuran disesuaikan
MainFrame.Position = UDim2.new(0.5, -90, 0.3, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true; MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 6)

-- Header
local Header = Instance.new("Frame", MainFrame)
Header.Size = UDim2.new(1, 0, 0, 25); Header.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Instance.new("UICorner", Header).CornerRadius = UDim.new(0, 6)
local Title = Instance.new("TextLabel", Header)
Title.Size = UDim2.new(0.7, 0, 1, 0); Title.Position = UDim2.new(0.05, 0, 0, 0)
Title.Text = "SeraphinHelper V5.7"; Title.TextColor3 = Color3.fromRGB(0, 255, 150)
Title.Font = Enum.Font.GothamBold; Title.TextSize = 10; Title.BackgroundTransparency = 1
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Scrolling Content
local ScrollFrame = Instance.new("ScrollingFrame", MainFrame)
ScrollFrame.Size = UDim2.new(1, 0, 1, -40); ScrollFrame.Position = UDim2.new(0, 0, 0, 30)
ScrollFrame.BackgroundTransparency = 1; ScrollFrame.CanvasSize = UDim2.new(0, 0, 1.5, 0)
ScrollFrame.ScrollBarThickness = 2; ScrollFrame.BorderSizePixel = 0
local Layout = Instance.new("UIListLayout", ScrollFrame)
Layout.Padding = UDim.new(0, 5); Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center

-- UI Creator Helpers
local function CreateButton(text, order)
    local btn = Instance.new("TextButton", ScrollFrame)
    btn.Size = UDim2.new(0.9, 0, 0, 28); btn.Text = text
    btn.Font = Enum.Font.GothamBold; btn.TextSize = 9; btn.TextColor3 = Color3.new(1, 1, 1)
    btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35); btn.LayoutOrder = order
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 4); return btn
end

local function CreateInput(labelStr, default, order)
    local f = Instance.new("Frame", ScrollFrame); f.Size = UDim2.new(0.9, 0, 0, 28); f.BackgroundTransparency = 1; f.LayoutOrder = order
    local l = Instance.new("TextLabel", f); l.Size = UDim2.new(0.5, 0, 1, 0); l.Text = labelStr; l.TextColor3 = Color3.new(0.7, 0.7, 0.7)
    l.Font = Enum.Font.Gotham; l.TextSize = 9; l.TextXAlignment = Enum.TextXAlignment.Left; l.BackgroundTransparency = 1
    local b = Instance.new("TextBox", f); b.Size = UDim2.new(0.4, 0, 0.8, 0); b.Position = UDim2.new(0.55, 0, 0.1, 0)
    b.Text = tostring(default); b.BackgroundColor3 = Color3.fromRGB(25, 25, 25); b.TextColor3 = Color3.new(1, 1, 1)
    b.Font = Enum.Font.Code; b.TextSize = 10; Instance.new("UICorner", b).CornerRadius = UDim.new(0, 4); return b
end

-- // ELEMENTS \\ --
local FishBtn = CreateButton("AUTO FISH: OFF", 1)
local BaitInput = CreateInput("Delay Bait:", baitDelay, 2)
local ReelInput = CreateInput("Delay Reel:", reelDelay, 3)
local WowBtn = CreateButton("WALK ON WATER: OFF", 4)
local BoostBtn = CreateButton("BOOSTER (LOW GFX)", 5)

-- // LOGIC \\ --
BaitInput.FocusLost:Connect(function() baitDelay = tonumber(BaitInput.Text) or baitDelay end)
ReelInput.FocusLost:Connect(function() reelDelay = tonumber(ReelInput.Text) or reelDelay end)

local net = ReplicatedStorage.Packages["_Index"]["sleitnick_net@0.2.0"].net
local function startFishingLoop()
    while getgenv().fishingStart do
        pcall(function() net["RF/ChargeFishingRod"]:InvokeServer() end)
        task.wait(0.05)
        
        -- Menggunakan Delay Bait
        pcall(function() net["RF/RequestFishingMinigameStarted"]:InvokeServer(unpack(fishArgs)) end)
        task.wait(baitDelay) 
        
        -- Menggunakan Delay Reel
        pcall(function() net["RE/FishingCompleted"]:FireServer() end)
        task.wait(reelDelay) 
        
        pcall(function() net["RF/CancelFishingInputs"]:InvokeServer() end)
        task.wait(0.1)
    end
end

FishBtn.MouseButton1Click:Connect(function()
    getgenv().fishingStart = not getgenv().fishingStart
    FishBtn.Text = getgenv().fishingStart and "AUTO FISH: ON" or "AUTO FISH: OFF"
    FishBtn.BackgroundColor3 = getgenv().fishingStart and Color3.fromRGB(0, 180, 100) or Color3.fromRGB(35, 35, 35)
    FishingBlocker.Enabled = getgenv().fishingStart
    if getgenv().fishingStart then task.spawn(startFishingLoop) end
end)

-- (Sisanya: Fitur Walk on Water & Booster tetap sama seperti script sebelumnya)
