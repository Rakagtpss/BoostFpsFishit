--[[ 
 RakaGanteng UI - V10 ELITE (2026 AESTHETIC)
 Theme: Dark Obsidian & Electric Magenta
 Special: Event Scanner + Selection List
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local VU = game:GetService("VirtualUser")

local Player = Players.LocalPlayer
local Char = Player.Character or Player.CharacterAdded:Wait()
local HRP = Char:WaitForChild("HumanoidRootPart")

-- State Variables
local WOW_Enabled = false
local IsMinimized = false
local BV, Conn

-- Anti-AFK
Player.Idled:Connect(function()
    VU:CaptureController()
    VU:ClickButton2(Vector2.new())
end)

-- UI Setup
local Gui = Instance.new("ScreenGui", game.CoreGui)
Gui.Name = "RakaGanteng_2026_Aesthetic"

-- Draggable Logo (Magenta Glow)
local MinBtn = Instance.new("TextButton", Gui)
MinBtn.Size = UDim2.new(0, 42, 0, 42)
MinBtn.Position = UDim2.new(0, 20, 0.5, -21)
MinBtn.BackgroundColor3 = Color3.fromRGB(15, 0, 30)
MinBtn.Text = "R"
MinBtn.Font = Enum.Font.GothamBold
MinBtn.TextColor3 = Color3.fromRGB(255, 0, 255)
MinBtn.TextSize = 22
MinBtn.Draggable = true
Instance.new("UICorner", MinBtn).CornerRadius = UDim.new(1, 0)
local MStroke = Instance.new("UIStroke", MinBtn)
MStroke.Color = Color3.fromRGB(200, 0, 255)
MStroke.Thickness = 2.5

-- Main Frame (280px - Obsidian Style)
local Frame = Instance.new("Frame", Gui)
Frame.Size = UDim2.new(0, 280, 0, 210)
Frame.Position = UDim2.new(0.5, -140, 0.4, 0)
Frame.BackgroundColor3 = Color3.fromRGB(10, 5, 15)
Frame.Active = true
Frame.Draggable = true
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 15)
local FStroke = Instance.new("UIStroke", Frame)
FStroke.Color = Color3.fromRGB(200, 0, 255)
FStroke.Transparency = 0.4
FStroke.Thickness = 1.5

-- Header
local Header = Instance.new("Frame", Frame)
Header.Size = UDim2.new(1, 0, 0, 40)
Header.BackgroundTransparency = 1

local Title = Instance.new("TextLabel", Header)
Title.Size = UDim2.new(1, 0, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 2)
Title.Text = "RAKA GANTENG V10"
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14
Title.TextXAlignment = Enum.TextXAlignment.Left

local Underline = Instance.new("Frame", Header)
Underline.Size = UDim2.new(1, -30, 0, 1)
Underline.Position = UDim2.new(0, 15, 1, -5)
Underline.BackgroundColor3 = Color3.fromRGB(200, 0, 255)
Underline.BorderSizePixel = 0

-- Fitur Walk Water (Modern Button)
local BtnWOW = Instance.new("TextButton", Frame)
BtnWOW.Size = UDim2.new(1, -30, 0, 32)
BtnWOW.Position = UDim2.new(0, 15, 0, 45)
BtnWOW.BackgroundColor3 = Color3.fromRGB(25, 10, 40)
BtnWOW.Text = "WALK ON WATER: OFF"
BtnWOW.Font = Enum.Font.GothamBold
BtnWOW.TextSize = 11
BtnWOW.TextColor3 = Color3.fromRGB(200, 200, 200)
Instance.new("UICorner", BtnWOW).CornerRadius = UDim.new(0, 8)
local BStroke = Instance.new("UIStroke", BtnWOW)
BStroke.Color = Color3.fromRGB(100, 0, 150)

-- Scan Results Section
local ListLabel = Instance.new("TextLabel", Frame)
ListLabel.Size = UDim2.new(1, -30, 0, 20)
ListLabel.Position = UDim2.new(0, 15, 0, 85)
ListLabel.Text = "LIVE EVENT TRACKER"
ListLabel.TextColor3 = Color3.fromRGB(255, 0, 255)
ListLabel.Font = Enum.Font.GothamBold
ListLabel.TextSize = 10
ListLabel.BackgroundTransparency = 1
ListLabel.TextXAlignment = Enum.TextXAlignment.Left

local Scroll = Instance.new("ScrollingFrame", Frame)
Scroll.Size = UDim2.new(1, -30, 0, 75)
Scroll.Position = UDim2.new(0, 15, 0, 105)
Scroll.BackgroundTransparency = 0.95
Scroll.BackgroundColor3 = Color3.new(1,1,1)
Scroll.BorderSizePixel = 0
Scroll.CanvasSize = UDim2.new(0, 0, 3, 0)
Scroll.ScrollBarThickness = 2
Scroll.ScrollBarImageColor3 = Color3.fromRGB(255, 0, 255)

local ListLayout = Instance.new("UIListLayout", Scroll)
ListLayout.Padding = UDim.new(0, 6)

-- Footer FPS
local FPSDisplay = Instance.new("TextLabel", Frame)
FPSDisplay.Size = UDim2.new(1, 0, 0, 20)
FPSDisplay.Position = UDim2.new(0, 0, 1, -20)
FPSDisplay.BackgroundTransparency = 1
FPSDisplay.Text = "..."
FPSDisplay.TextColor3 = Color3.fromRGB(150, 150, 150)
FPSDisplay.Font = Enum.Font.Code
FPSDisplay.TextSize = 10

------------------------------------------------------
-- LOGIC & ENGINE
------------------------------------------------------

MinBtn.MouseButton1Click:Connect(function()
    IsMinimized = not IsMinimized
    Frame.Visible = not IsMinimized
    MinBtn.Text = IsMinimized and "+" or "R"
end)

-- Walk Water Toggle
BtnWOW.MouseButton1Click:Connect(function()
    WOW_Enabled = not WOW_Enabled
    BtnWOW.Text = WOW_Enabled and "WALK ON WATER: ON" or "WALK ON WATER: OFF"
    BtnWOW.BackgroundColor3 = WOW_Enabled and Color3.fromRGB(200, 0, 255) or Color3.fromRGB(25, 10, 40)
    BtnWOW.TextColor3 = WOW_Enabled and Color3.new(1,1,1) or Color3.fromRGB(200, 200, 200)
    
    if WOW_Enabled then
        BV = Instance.new("BodyVelocity", HRP)
        BV.MaxForce = Vector3.new(0, 1e6, 0)
        BV.Velocity = Vector3.zero
        Conn = RunService.PreRender:Connect(function()
            if HRP then HRP.AssemblyLinearVelocity = Vector3.new(HRP.AssemblyLinearVelocity.X, 0, HRP.AssemblyLinearVelocity.Z) end
        end)
    else
        if Conn then Conn:Disconnect() end
        if BV then BV:Destroy() end
    end
end)

-- SCANNER & LIST GENERATOR
task.spawn(function()
    while true do
        -- Hapus list lama
        for _, v in pairs(Scroll:GetChildren()) do
            if v:IsA("TextButton") then v:Destroy() end
        end
        
        local found = false
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("Part") or obj:IsA("Model") then
                local name = obj.Name:lower()
                -- Filter Target
                if name:find("meteor") or name:find("treasure") or name:find("event") or name:find("special") then
                    found = true
                    local EvBtn = Instance.new("TextButton", Scroll)
                    EvBtn.Size = UDim2.new(1, -5, 0, 28)
                    EvBtn.BackgroundColor3 = Color3.fromRGB(30, 15, 50)
                    EvBtn.Text = "TELEPORT TO: " .. obj.Name:upper()
                    EvBtn.Font = Enum.Font.GothamBold
                    EvBtn.TextSize = 9
                    EvBtn.TextColor3 = Color3.new(1,1,1)
                    Instance.new("UICorner", EvBtn).CornerRadius = UDim.new(0, 6)
                    Instance.new("UIStroke", EvBtn).Color = Color3.fromRGB(200, 0, 255)
                    
                    EvBtn.MouseButton1Click:Connect(function()
                        local cf = obj:IsA("Model") and obj:GetModelCFrame() or obj.CFrame
                        HRP.CFrame = cf + Vector3.new(0, 5, 0)
                    end)
                end
            end
        end
        
        if not found then
            local msg = Instance.new("TextLabel", Scroll)
            msg.Size = UDim2.new(1, 0, 0, 28)
            msg.Text = "NO EVENTS FOUND..."
            msg.TextColor3 = Color3.fromRGB(100, 100, 100)
            msg.Font = Enum.Font.Gotham
            msg.TextSize = 10
            msg.BackgroundTransparency = 1
        end
        task.wait(4)
    end
end)

RunService.Heartbeat:Connect(function()
    FPSDisplay.Text = "SYSTEM STABLE: " .. math.floor(1/RunService.Heartbeat:Wait()) .. " FPS"
end)
