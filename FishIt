--[[ 
 RakaGanteng UI - V10 (2026 MANUAL TELEPORT)
 Feature: Smart Event Scanner & Choice Teleport
 Game: FISH IT
 Lebar: 280px | Modern Glass Edition
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local VU = game:GetService("VirtualUser")

local Player = Players.LocalPlayer
local Char = Player.Character or Player.CharacterAdded:Wait()
local HRP = Char:WaitForChild("HumanoidRootPart")

-- State Variables
local IsScanning = true
local CurrentTarget = nil
local IsMinimized = false

-- Anti-AFK
Player.Idled:Connect(function()
    VU:CaptureController()
    VU:ClickButton2(Vector2.new())
end)

-- UI Setup (Modern 2026)
local Gui = Instance.new("ScreenGui", game.CoreGui)
Gui.Name = "RakaGanteng_2026_Selection"

-- Draggable Logo
local MinBtn = Instance.new("TextButton", Gui)
MinBtn.Size = UDim2.new(0, 38, 0, 38)
MinBtn.Position = UDim2.new(0, 15, 0.5, -19)
MinBtn.BackgroundColor3 = Color3.fromRGB(2, 8, 20)
MinBtn.Text = "R"
MinBtn.Font = Enum.Font.GothamBold
MinBtn.TextColor3 = Color3.fromRGB(0, 255, 255)
MinBtn.TextSize = 20
MinBtn.Draggable = true
Instance.new("UICorner", MinBtn).CornerRadius = UDim.new(1, 0)
local MStroke = Instance.new("UIStroke", MinBtn)
MStroke.Color = Color3.fromRGB(0, 150, 255)
MStroke.Thickness = 2

-- Main Frame
local Frame = Instance.new("Frame", Gui)
Frame.Size = UDim2.new(0, 280, 0, 130)
Frame.Position = UDim2.new(0.5, -140, 0.4, 0)
Frame.BackgroundColor3 = Color3.fromRGB(4, 10, 20)
Frame.Active = true
Frame.Draggable = true
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 10)
local FStroke = Instance.new("UIStroke", Frame)
FStroke.Color = Color3.fromRGB(0, 100, 255)
FStroke.Transparency = 0.5

-- Header
local Header = Instance.new("Frame", Frame)
Header.Size = UDim2.new(1, 0, 0, 35)
Header.BackgroundTransparency = 1

local Title = Instance.new("TextLabel", Header)
Title.Size = UDim2.new(1, 0, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.Text = "RAKA GANTENG V10"
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 13
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Scanner Status (Indikator)
local StatusLabel = Instance.new("TextLabel", Frame)
StatusLabel.Size = UDim2.new(1, -20, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 35)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "üîç Scanning for events..."
StatusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.TextSize = 11

-- Selection Button (Muncul Jika Ada Event)
local TeleportBtn = Instance.new("TextButton", Frame)
TeleportBtn.Size = UDim2.new(1, -30, 0, 35)
TeleportBtn.Position = UDim2.new(0, 15, 0, 65)
TeleportBtn.BackgroundColor3 = Color3.fromRGB(20, 40, 80)
TeleportBtn.Text = "No Event Found"
TeleportBtn.Font = Enum.Font.GothamBold
TeleportBtn.TextColor3 = Color3.fromRGB(100, 100, 100)
TeleportBtn.TextSize = 12
TeleportBtn.Visible = true
TeleportBtn.AutoButtonColor = false
Instance.new("UICorner", TeleportBtn).CornerRadius = UDim.new(0, 8)
local BStroke = Instance.new("UIStroke", TeleportBtn)
BStroke.Color = Color3.fromRGB(0, 150, 255)
BStroke.Thickness = 1.5
BStroke.Enabled = false

-- FPS Section (Bottom)
local FPSDisplay = Instance.new("TextLabel", Frame)
FPSDisplay.Size = UDim2.new(1, 0, 0, 20)
FPSDisplay.Position = UDim2.new(0, 0, 1, -20)
FPSDisplay.BackgroundTransparency = 1
FPSDisplay.Text = "60 FPS"
FPSDisplay.TextColor3 = Color3.fromRGB(0, 255, 150)
FPSDisplay.Font = Enum.Font.Code
FPSDisplay.TextSize = 10

------------------------------------------------------
-- SMART SCANNER & TELEPORT LOGIC
------------------------------------------------------

MinBtn.MouseButton1Click:Connect(function()
    IsMinimized = not IsMinimized
    Frame.Visible = not IsMinimized
    MinBtn.Text = IsMinimized and "+" or "R"
end)

-- Loop Scanner
task.spawn(function()
    while true do
        local found = false
        -- Scanning Workspace for Event Targets (Meteor, Treasure, Event, Special)
        for _, v in pairs(workspace:GetDescendants()) do
            if v:IsA("Part") or v:IsA("Model") then
                local n = v.Name:lower()
                if n:find("meteor") or n:find("treasure") or n:find("event") or n:find("special") then
                    found = true
                    CurrentTarget = v
                    
                    -- Update UI jika event ditemukan
                    TeleportBtn.Text = "TP TO: " .. v.Name:upper()
                    TeleportBtn.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
                    TeleportBtn.TextColor3 = Color3.new(1,1,1)
                    BStroke.Enabled = true
                    StatusLabel.Text = "‚ú® EVENT DETECTED! ‚ú®"
                    StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 255)
                    break
                end
            end
        end
        
        if not found then
            CurrentTarget = nil
            TeleportBtn.Text = "Searching for event..."
            TeleportBtn.BackgroundColor3 = Color3.fromRGB(20, 30, 45)
            TeleportBtn.TextColor3 = Color3.fromRGB(100, 100, 100)
            BStroke.Enabled = false
            StatusLabel.Text = "üîç Scanning for events..."
            StatusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
        end
        task.wait(1.5)
    end
end)

-- Teleport Click Action
TeleportBtn.MouseButton1Click:Connect(function()
    if CurrentTarget then
        local targetCF
        if CurrentTarget:IsA("Model") then
            targetCF = CurrentTarget:GetModelCFrame()
        else
            targetCF = CurrentTarget.CFrame
        end
        
        -- Teleport Karakter
        HRP.CFrame = targetCF + Vector3.new(0, 5, 0)
        
        -- Efek Feedback Singkat
        TeleportBtn.Text = "TELEPORTED!"
        TeleportBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
        task.wait(1)
    end
end)

-- FPS Counter
RunService.Heartbeat:Connect(function()
    FPSDisplay.Text = math.floor(1/RunService.Heartbeat:Wait()) .. " FPS"
end)
