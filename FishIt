--[[ SERAPHIN HELPER: DARK GLASS (FIXED FPS) ]]--
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Lighting = game:GetService("Lighting")
local TeleportService = game:GetService("TeleportService")

-- // Setup
local Player = Players.LocalPlayer
local Char = Player.Character or Player.CharacterAdded:Wait()
local HRP = Char:WaitForChild("HumanoidRootPart", 5)

Player.CharacterAdded:Connect(function(newChar)
    Char = newChar
    HRP = newChar:WaitForChild("HumanoidRootPart", 10)
end)

-- // Konfigurasi Tampilan
local UI_CONFIG = {
    Width = 420, Height = 280,       
    BaseColor = Color3.fromRGB(0, 0, 0),
    BaseTrans = 0.6,
    BtnColor = Color3.fromRGB(30, 30, 30),
    BtnTrans = 0.4,
    Accent = Color3.fromRGB(0, 255, 180), 
    TextColor = Color3.fromRGB(240, 240, 240),
    Font = Enum.Font.Gotham,
    HeaderFont = Enum.Font.GothamBold
}

if CoreGui:FindFirstChild("SeraphinHelper") then CoreGui.SeraphinHelper:Destroy() end
if CoreGui:FindFirstChild("SeraphinDark") then CoreGui.SeraphinDark:Destroy() end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "SeraphinHelper"
ScreenGui.Parent = CoreGui
ScreenGui.ResetOnSpawn = false

-- ==========================================
-- [1] MINIMALIST FLOATING HUD
-- ==========================================
local FloatHUD = Instance.new("Frame", ScreenGui)
FloatHUD.Name = "FloatingStats"
FloatHUD.Size = UDim2.new(0, 200, 0, 60)
FloatHUD.Position = UDim2.new(0.8, 0, 0.2, 0)
FloatHUD.BackgroundColor3 = UI_CONFIG.BaseColor
FloatHUD.BackgroundTransparency = 0.5 
FloatHUD.Visible = true 
FloatHUD.Active = true
FloatHUD.Draggable = true
Instance.new("UICorner", FloatHUD).CornerRadius = UDim.new(0, 6)

local HudStroke = Instance.new("UIStroke", FloatHUD)
HudStroke.Color = UI_CONFIG.Accent
HudStroke.Thickness = 1
HudStroke.Transparency = 0.6

local ListLayout = Instance.new("UIListLayout", FloatHUD)
ListLayout.FillDirection = Enum.FillDirection.Vertical
ListLayout.Padding = UDim.new(0, 2)
ListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
local Padding = Instance.new("UIPadding", FloatHUD)
Padding.PaddingLeft = UDim.new(0, 10)

local function CreateStatLabel(text)
    local lbl = Instance.new("TextLabel", FloatHUD)
    lbl.Size = UDim2.new(1, -10, 0, 20)
    lbl.BackgroundTransparency = 1
    lbl.Text = text
    lbl.TextColor3 = UI_CONFIG.TextColor
    lbl.Font = UI_CONFIG.Font
    lbl.TextSize = 12
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    lbl.RichText = true
    return lbl
end

local LblFish = CreateStatLabel("üêü <font color=\"rgb(200,200,200)\">Caught:</font> ...")
local LblBag  = CreateStatLabel("üéí <font color=\"rgb(200,200,200)\">Bag:</font> ...")

-- ==========================================
-- [2] MAIN MENU
-- ==========================================
local Main = Instance.new("Frame", ScreenGui)
Main.Name = "Main"
Main.Size = UDim2.new(0, UI_CONFIG.Width, 0, UI_CONFIG.Height)
Main.Position = UDim2.new(0.5, -UI_CONFIG.Width/2, 0.4, 0)
Main.BackgroundColor3 = UI_CONFIG.BaseColor
Main.BackgroundTransparency = UI_CONFIG.BaseTrans
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true
Main.ClipsDescendants = true 
Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 8)

-- Shadow
local Shadow = Instance.new("ImageLabel", Main)
Shadow.Name = "Shadow"
Shadow.AnchorPoint = Vector2.new(0.5, 0.5)
Shadow.BackgroundTransparency = 1
Shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
Shadow.Size = UDim2.new(1, 40, 1, 40)
Shadow.ZIndex = 0
Shadow.Image = "rbxassetid://6014261993"
Shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
Shadow.ImageTransparency = 0.4
Shadow.ScaleType = Enum.ScaleType.Slice
Shadow.SliceCenter = Rect.new(49, 49, 450, 450)

-- Header
local Header = Instance.new("Frame", Main)
Header.Size = UDim2.new(1, 0, 0, 35)
Header.BackgroundColor3 = Color3.fromRGB(255,255,255)
Header.BackgroundTransparency = 0.95 
Instance.new("UICorner", Header).CornerRadius = UDim.new(0, 8)

local Title = Instance.new("TextLabel", Header)
Title.Size = UDim2.new(0, 200, 1, 0)
Title.Position = UDim2.new(0, 12, 0, 0)
Title.Text = "SERAPHIN <font color=\"rgb(0,255,180)\">HELPER</font>"
Title.RichText = true
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = UI_CONFIG.HeaderFont
Title.TextSize = 13
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.BackgroundTransparency = 1

-- [UPDATE] FPS COUNTER DI SINI (POJOK KANAN ATAS)
local FpsLbl = Instance.new("TextLabel", Header)
FpsLbl.Size = UDim2.new(0, 60, 1, 0)
FpsLbl.Position = UDim2.new(1, -55, 0, 0) -- Sebelah kiri tombol Hide
FpsLbl.Text = "60 FPS"
FpsLbl.TextColor3 = UI_CONFIG.Accent
FpsLbl.Font = UI_CONFIG.HeaderFont
FpsLbl.TextSize = 12
FpsLbl.BackgroundTransparency = 1
FpsLbl.TextXAlignment = Enum.TextXAlignment.Right

-- Hide Button
local HideBtn = Instance.new("TextButton", Header)
HideBtn.Size = UDim2.new(0, 20, 0, 20)
HideBtn.Position = UDim2.new(1, -28, 0.5, -10)
HideBtn.Text = "-"
HideBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
HideBtn.BackgroundTransparency = 0.9
HideBtn.TextColor3 = UI_CONFIG.Accent
HideBtn.Font = UI_CONFIG.HeaderFont
HideBtn.TextSize = 14
Instance.new("UICorner", HideBtn).CornerRadius = UDim.new(0, 4)

-- Container Tombol
local Container = Instance.new("Frame", Main)
Container.Size = UDim2.new(1, -20, 1, -45) 
Container.Position = UDim2.new(0, 10, 0, 40)
Container.BackgroundTransparency = 1

local Grid = Instance.new("UIGridLayout", Container)
Grid.CellSize = UDim2.new(0, 195, 0, 32) 
Grid.CellPadding = UDim2.new(0, 10, 0, 8)
Grid.HorizontalAlignment = Enum.HorizontalAlignment.Center

local function MakeBtn(text)
    local b = Instance.new("TextButton", Container)
    b.Text = text
    b.BackgroundColor3 = UI_CONFIG.BtnColor
    b.BackgroundTransparency = UI_CONFIG.BtnTrans
    b.TextColor3 = UI_CONFIG.TextColor
    b.Font = UI_CONFIG.Font
    b.TextSize = 11
    b.AutoButtonColor = true
    Instance.new("UICorner", b).CornerRadius = UDim.new(0, 4)
    local s = Instance.new("UIStroke", b)
    s.Color = Color3.fromRGB(255, 255, 255)
    s.Thickness = 1
    s.Transparency = 0.9 
    s.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    return b
end

local function ToggleVisual(btn, on)
    if on then
        btn.BackgroundColor3 = UI_CONFIG.Accent
        btn.BackgroundTransparency = 0.2
        btn.TextColor3 = Color3.new(0,0,0) 
        btn.Font = UI_CONFIG.HeaderFont 
        btn.UIStroke.Transparency = 1
    else
        btn.BackgroundColor3 = UI_CONFIG.BtnColor
        btn.BackgroundTransparency = UI_CONFIG.BtnTrans
        btn.TextColor3 = UI_CONFIG.TextColor
        btn.Font = UI_CONFIG.Font
        btn.UIStroke.Transparency = 0.9
    end
end

-- // State
local States = {Freeze=false, WoW=false, Boost=false, NoRender=false, Noclip=false, Panel=true}
local SavedCFrame = nil 
local Connections = {}
local BodyV = nil

-- // TOMBOL UI
local BtnFreeze = MakeBtn("Freeze Player")
local BtnWow = MakeBtn("Walk On Water")
local BtnNoclip = MakeBtn("No Clip")
local BtnBoost = MakeBtn("Booster Mode")
local BtnRender = MakeBtn("3D Render: ON")
local BtnFps = MakeBtn("FPS: Unlimited")
local BtnRejoin = MakeBtn("Rejoin Server")
local BtnSave = MakeBtn("Save Position")
local BtnLoad = MakeBtn("Teleport Saved")
local BtnPanel = MakeBtn("Panel Info: ON")

-- Logic Panel
ToggleVisual(BtnPanel, true)
BtnPanel.MouseButton1Click:Connect(function()
    States.Panel = not States.Panel
    FloatHUD.Visible = States.Panel
    BtnPanel.Text = "Panel Info: " .. (States.Panel and "ON" or "OFF")
    ToggleVisual(BtnPanel, States.Panel)
end)

-- // LOOP UPDATE (Stats & FPS)
task.spawn(function()
    local lastTime = os.clock()
    local frameCount = 0
    
    while true do
        -- FPS Logic
        local now = os.clock()
        frameCount = frameCount + 1
        if now - lastTime >= 1 then
            FpsLbl.Text = frameCount .. " FPS"
            frameCount = 0
            lastTime = now
        end

        -- Stats Update (Setiap 0.5 detik)
        if States.Panel then
             pcall(function()
                local ls = Player:FindFirstChild("leaderstats")
                local caughtObj = ls and ls:FindFirstChild("Caught")
                local caughtVal = caughtObj and caughtObj.Value or "-"
                LblFish.Text = "üêü <font color=\"rgb(200,200,200)\">Caught:</font> <b>" .. caughtVal .. "</b>"

                local pg = Player:FindFirstChild("PlayerGui")
                local backpackGui = pg and pg:FindFirstChild("Backpack")
                local bagText = "?"
                if backpackGui then
                    for _, v in pairs(backpackGui:GetDescendants()) do
                        if v:IsA("TextLabel") and string.find(v.Text, "/") then bagText = v.Text break end
                    end
                else bagText = #Player.Backpack:GetChildren() end
                LblBag.Text = "üéí <font color=\"rgb(200,200,200)\">Bag:</font> <b>" .. bagText .. "</b>"
            end)
        end
        
        RunService.RenderStepped:Wait()
    end
end)

-- // FITUR TOMBOL
local IsMin = false
HideBtn.MouseButton1Click:Connect(function()
    IsMin = not IsMin
    Main:TweenSize(UDim2.new(0, UI_CONFIG.Width, 0, IsMin and 35 or UI_CONFIG.Height), "Out", "Quad", 0.3, true)
    Container.Visible = not IsMin
    HideBtn.Text = IsMin and "+" or "-"
end)

BtnFreeze.MouseButton1Click:Connect(function() States.Freeze = not States.Freeze if HRP then HRP.Anchored = States.Freeze end ToggleVisual(BtnFreeze, States.Freeze) end)
BtnWow.MouseButton1Click:Connect(function() States.WoW = not States.WoW ToggleVisual(BtnWow, States.WoW) if States.WoW then BodyV = Instance.new("BodyVelocity", HRP) BodyV.MaxForce = Vector3.new(0,1e6,0) BodyV.Velocity = Vector3.zero Connections["WoW"] = RunService.Heartbeat:Connect(function() if HRP then HRP.AssemblyLinearVelocity = Vector3.new(HRP.AssemblyLinearVelocity.X,0,HRP.AssemblyLinearVelocity.Z) end end) else if Connections["WoW"] then Connections["WoW"]:Disconnect() end if BodyV then BodyV:Destroy() end end end)
BtnNoclip.MouseButton1Click:Connect(function() States.Noclip = not States.Noclip BtnNoclip.Text = "No Clip: "..(States.Noclip and "ON" or "OFF") ToggleVisual(BtnNoclip, States.Noclip) if States.Noclip then Connections["Noclip"] = RunService.Stepped:Connect(function() if Player.Character then for _,v in pairs(Player.Character:GetDescendants()) do if v:IsA("BasePart") and v.CanCollide then v.CanCollide = false end end end end) else if Connections["Noclip"] then Connections["Noclip"]:Disconnect() end end end)
BtnBoost.MouseButton1Click:Connect(function() States.Boost = not States.Boost ToggleVisual(BtnBoost, States.Boost) BtnBoost.Text = States.Boost and "Booster: ACTIVE" or "Booster Mode" Lighting.GlobalShadows = not States.Boost end)
BtnRender.MouseButton1Click:Connect(function() States.NoRender = not States.NoRender RunService:Set3dRenderingEnabled(not States.NoRender) BtnRender.Text = "3D Render: "..(States.NoRender and "OFF" or "ON") ToggleVisual(BtnRender, States.NoRender) end)
BtnFps.MouseButton1Click:Connect(function() local l={30,60,144,999} _G.l=((_G.l or 4)%#l)+1 local v=l[_G.l] if setfpscap then setfpscap(v) end BtnFps.Text="FPS: "..(v>900 and "Max" or v) end)
BtnRejoin.MouseButton1Click:Connect(function() TeleportService:Teleport(game.PlaceId, Player) end)
BtnSave.MouseButton1Click:Connect(function() if HRP then SavedCFrame = HRP.CFrame BtnSave.Text="Saved!" ToggleVisual(BtnSave,true) wait(0.5) ToggleVisual(BtnSave,false) BtnSave.Text="Save Position" end end)
BtnLoad.MouseButton1Click:Connect(function() if SavedCFrame and HRP then HRP.CFrame = SavedCFrame ToggleVisual(BtnLoad,true) wait(0.5) ToggleVisual(BtnLoad,false) end end)

print(":: SERAPHIN HELPER (DARK GLASS + FPS FIXED) LOADED ::")
