-- // SERAPHIN HELPER - GIANT STATS & RGB EDITION // --
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Lighting = game:GetService("Lighting")
local TeleportService = game:GetService("TeleportService")
local Stats = game:GetService("Stats")

local Player = Players.LocalPlayer

-- // State
local Optimized, Minimized = false, false
local fpsLimits = {15, 30, 60, 90, 180, 999}
local currentLimitIndex = 6
local BV, WowConn

-- // UI Config
local UI_WIDTH, UI_HEIGHT = 400, 220 

-- // ANTI-AFK
task.spawn(function()
    local VirtualUser = game:GetService("VirtualUser")
    Player.Idled:Connect(function() VirtualUser:CaptureController() VirtualUser:ClickButton2(Vector2.new()) end)
end)

-- // Cleanup
if CoreGui:FindFirstChild("SeraphinRGB") then CoreGui.SeraphinRGB:Destroy() end

-- // UI SETUP
local Gui = Instance.new("ScreenGui", CoreGui)
Gui.Name = "SeraphinRGB"

local MainFrame = Instance.new("Frame", Gui)
MainFrame.Size = UDim2.new(0, UI_WIDTH, 0, UI_HEIGHT)
MainFrame.Position = UDim2.new(0.5, -UI_WIDTH/2, 0.4, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 12)
MainFrame.BackgroundTransparency = 0.1
MainFrame.Active, MainFrame.Draggable = true, true

local Border = Instance.new("UIStroke", MainFrame)
Border.Thickness = 3
Border.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

Instance.new("UICorner", MainFrame)

-- STATS RAKSASA (FPS & PING)
local StatsFrame = Instance.new("Frame", MainFrame)
StatsFrame.Size = UDim2.new(1, -20, 0, 50)
StatsFrame.Position = UDim2.new(0, 10, 0, 10)
StatsFrame.BackgroundTransparency = 1

local FpsLabel = Instance.new("TextLabel", StatsFrame)
FpsLabel.Size = UDim2.new(0.5, 0, 1, 0)
FpsLabel.Text = "FPS: --"
FpsLabel.Font = Enum.Font.GothamBold
FpsLabel.TextSize = 25 -- Saiz Sangat Besar
FpsLabel.TextColor3 = Color3.new(1,1,1)
FpsLabel.BackgroundTransparency = 1

local PingLabel = Instance.new("TextLabel", StatsFrame)
PingLabel.Size = UDim2.new(0.5, 0, 1, 0)
PingLabel.Position = UDim2.new(0.5, 0, 0, 0)
PingLabel.Text = "PING: --"
PingLabel.Font = Enum.Font.GothamBold
PingLabel.TextSize = 25 -- Saiz Sangat Besar
PingLabel.TextColor3 = Color3.new(1,1,1)
PingLabel.BackgroundTransparency = 1

-- Tombol Hide
local MinBtn = Instance.new("TextButton", MainFrame)
MinBtn.Size = UDim2.new(0, 50, 0, 25)
MinBtn.Position = UDim2.new(1, -60, 0, 10)
MinBtn.Text = "HIDE"
MinBtn.Font = Enum.Font.GothamBold
MinBtn.TextColor3 = Color3.new(1,1,1)
MinBtn.BackgroundColor3 = Color3.fromRGB(40,40,45)
Instance.new("UICorner", MinBtn)

local Scroll = Instance.new("ScrollingFrame", MainFrame)
Scroll.Size = UDim2.new(1, -20, 1, -85)
Scroll.Position = UDim2.new(0, 10, 0, 70)
Scroll.BackgroundTransparency, Scroll.CanvasSize = 1, UDim2.new(0,0,0,0)
Scroll.ScrollBarThickness = 0
local Layout = Instance.new("UIGridLayout", Scroll)
Layout.CellSize = UDim2.new(0.5, -7, 0, 40)

local function CreateButton(text)
    local btn = Instance.new("TextButton", Scroll)
    btn.Text = text
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 12
    btn.TextColor3 = Color3.new(1,1,1)
    btn.BackgroundColor3 = Color3.fromRGB(25,25,30)
    Instance.new("UICorner", btn)
    return btn
end

-- // FITUR
local PotBtn = CreateButton("BOOSTER")
local NetBtn = CreateButton("NET BOOST")
local FpsBtn = CreateButton("FPS CAP")
local RedBtn = CreateButton("NO RENDER")
local WowBtn = CreateButton("WATER WALK")
local FrzBtn = CreateButton("FREEZE")

-- // RGB LOGIC
task.spawn(function()
    while task.wait() do
        local hue = tick() % 5 / 5
        local color = Color3.fromHSV(hue, 1, 1)
        Border.Color = color
        FpsLabel.TextColor3 = color
        PingLabel.TextColor3 = color
    end
end)

-- // LOGIC FUNCTIONS
MinBtn.MouseButton1Click:Connect(function()
    Minimized = not Minimized
    MainFrame:TweenSize(Minimized and UDim2.new(0, UI_WIDTH, 0, 70) or UDim2.new(0, UI_WIDTH, 0, UI_HEIGHT), "Out", "Quad", 0.3, true)
    Scroll.Visible = not Minimized
    MinBtn.Text = Minimized and "SHOW" or "HIDE"
end)

-- NO RENDER FIX (Alternative Method)
RedBtn.MouseButton1Click:Connect(function()
    _G.NoRender = not _G.NoRender
    RedBtn.Text = _G.NoRender and "NO RENDER: ON" or "NO RENDER: OFF"
    RunService:Set3dRenderingEnabled(not _G.NoRender)
    if not _G.NoRender then
        workspace.CurrentCamera.CFrame = Player.Character.HumanoidRootPart.CFrame
    end
end)

-- NET BOOST (Brute Force)
NetBtn.MouseButton1Click:Connect(function()
    _G.NetBoost = not _G.NetBoost
    NetBtn.Text = _G.NetBoost and "NET BOOST: ON" or "NET BOOST: OFF"
    if _G.NetBoost then
        settings().Network.IncomingReplicationLag = 0
        sethiddenproperty(game:GetService("NetworkClient"), "PhysicsSendRate", 20)
    end
end)

-- WATER WALK
WowBtn.MouseButton1Click:Connect(function()
    local Char = Player.Character
    local HRP = Char and Char:FindFirstChild("HumanoidRootPart")
    _G.WowActive = not _G.WowActive
    WowBtn.Text = _G.WowActive and "W-WALK: ON" or "W-WALK: OFF"
    if _G.WowActive then
        BV = Instance.new("BodyVelocity", HRP)
        BV.Velocity = Vector3.new(0,0,0)
        BV.MaxForce = Vector3.new(0, math.huge, 0)
        WowConn = RunService.Heartbeat:Connect(function()
            HRP.Velocity = Vector3.new(HRP.Velocity.X, 0, HRP.Velocity.Z)
        end)
    else
        if WowConn then WowConn:Disconnect() end
        if HRP:FindFirstChild("BodyVelocity") then HRP.BodyVelocity:Destroy() end
    end
end)

-- Lain-lain
PotBtn.MouseButton1Click:Connect(function()
    Optimized = not Optimized
    settings().Rendering.QualityLevel = 1
    for _, v in pairs(game:GetDescendants()) do
        if v:IsA("BasePart") then v.Material, v.CastShadow = Enum.Material.SmoothPlastic, false end
    end
end)

FrzBtn.MouseButton1Click:Connect(function()
    local HRP = Player.Character.HumanoidRootPart
    HRP.Anchored = not HRP.Anchored
end)

FpsBtn.MouseButton1Click:Connect(function()
    currentLimitIndex = currentLimitIndex % #fpsLimits + 1
    setfpscap(fpsLimits[currentLimitIndex])
end)

-- // STATS LOOP
RunService.RenderStepped:Connect(function()
    local fps = math.floor(1/RunService.RenderStepped:Wait())
    local ping = math.floor(Stats.Network.ServerStatsItem["Data Ping"]:GetValue())
    FpsLabel.Text = "FPS: " .. fps
    PingLabel.Text = "PING: " .. ping .. "ms"
end)
