--[[
    Script Name: RakaGanteng
    Theme: Modern Navy Wide (Lite)
    Features: Walk On Water, No Render, FPS Unlocker, Map/CPU Booster, Custom Speed, Auto Follow.
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local L_Player = Players.LocalPlayer

-- UI Core
local SG = Instance.new("ScreenGui", game.CoreGui)
SG.Name = "RakaGanteng_Modern"

local Main = Instance.new("Frame", SG)
Main.Size = UDim2.new(0, 520, 0, 380)
Main.Position = UDim2.new(0.5, -260, 0.5, -190)
Main.BackgroundColor3 = Color3.fromRGB(10, 20, 35) -- Navy Dark
Main.BorderSizePixel = 0

local Corner = Instance.new("UICorner", Main)
Corner.CornerRadius = UDim.new(0, 8)

-- Header
local Header = Instance.new("Frame", Main)
Header.Size = UDim2.new(1, 0, 0, 50)
Header.BackgroundColor3 = Color3.fromRGB(15, 30, 55) -- Navy Medium
Header.BorderSizePixel = 0
local HCorner = Instance.new("UICorner", Header)

local Title = Instance.new("TextLabel", Header)
Title.Size = UDim2.new(1, -20, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.Text = "RAKAGANTENG | MODERN HUB"
Title.TextColor3 = Color3.fromRGB(0, 200, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.BackgroundTransparency = 1

-- Container
local Scroll = Instance.new("ScrollingFrame", Main)
Scroll.Size = UDim2.new(1, -20, 1, -70)
Scroll.Position = UDim2.new(0, 10, 0, 60)
Scroll.BackgroundTransparency = 1
Scroll.ScrollBarThickness = 2
Scroll.CanvasSize = UDim2.new(0, 0, 1.8, 0)

local Layout = Instance.new("UIListLayout", Scroll)
Layout.Padding = UDim.new(0, 10)

-- Function: Create Input Box
local function CreateInput(placeholder, callback)
    local Input = Instance.new("TextBox", Scroll)
    Input.Size = UDim2.new(1, 0, 0, 35)
    Input.BackgroundColor3 = Color3.fromRGB(20, 40, 75)
    Input.PlaceholderText = placeholder
    Input.Text = ""
    Input.TextColor3 = Color3.new(1, 1, 1)
    Input.Font = Enum.Font.Gotham
    Input.TextSize = 14
    local IC = Instance.new("UICorner", Input)
    Input.FocusLost:Connect(function() callback(Input.Text) end)
end

-- Function: Create Toggle
local function CreateToggle(name, callback)
    local active = false
    local Btn = Instance.new("TextButton", Scroll)
    Btn.Size = UDim2.new(1, 0, 0, 40)
    Btn.BackgroundColor3 = Color3.fromRGB(25, 50, 90)
    Btn.Text = name .. " : OFF"
    Btn.TextColor3 = Color3.fromRGB(180, 180, 180)
    Btn.Font = Enum.Font.GothamSemibold
    Btn.TextSize = 14
    local BC = Instance.new("UICorner", Btn)
    
    Btn.MouseButton1Click:Connect(function()
        active = not active
        Btn.Text = name .. (active and " : ON" or " : OFF")
        Btn.BackgroundColor3 = active and Color3.fromRGB(0, 120, 255) or Color3.fromRGB(25, 50, 90)
        Btn.TextColor3 = active and Color3.new(1,1,1) or Color3.fromRGB(180, 180, 180)
        callback(active)
    end)
end

--- LOGIC FEATURES ---

-- 1. Walk On Water
local WaterFloor = Instance.new("Part")
WaterFloor.Size = Vector3.new(5000, 1, 5000)
WaterFloor.Transparency = 1
WaterFloor.Anchored = true
WaterFloor.CanCollide = false
WaterFloor.Parent = workspace

CreateToggle("Walk On Water", function(state)
    WaterFloor.CanCollide = state
    spawn(function()
        while WaterFloor.CanCollide do
            local hrp = L_Player.Character and L_Player.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                WaterFloor.Position = Vector3.new(hrp.Position.X, -0.5, hrp.Position.Z)
            end
            task.wait()
        end
    end)
end)

-- 2. No Render
CreateToggle("No Render (Performance)", function(state)
    RunService:Set3dRenderingEnabled(not state)
end)

-- 3. Unlock FPS
CreateToggle("Unlock FPS", function(state)
    if setfpscap then setfpscap(state and 999 or 60) end
end)

-- 4. Booster Map & CPU
CreateToggle("Booster Map/CPU", function(state)
    if state then
        for _, v in pairs(game:GetDescendants()) do
            if v:IsA("BasePart") then v.Material = Enum.Material.SmoothPlastic v.CastShadow = false
            elseif v:IsA("Decal") or v:IsA("Texture") then v:Destroy() end
        end
        settings().Rendering.QualityLevel = 1
    end
end)

-- 5. Speed Custom (Char & Boat)
local customSpeed = 16
CreateInput("Set Speed (Contoh: 100)", function(val)
    customSpeed = tonumber(val) or 16
end)

CreateToggle("Speed Boost Active", function(state)
    _G.SpeedToggle = state
    spawn(function()
        while _G.SpeedToggle do
            local char = L_Player.Character
            if char then
                local hum = char:FindFirstChild("Humanoid")
                if hum then
                    hum.WalkSpeed = customSpeed
                    if hum.SeatPart and hum.SeatPart:IsA("VehicleSeat") then
                        hum.SeatPart.MaxSpeed = customSpeed
                        hum.SeatPart.Velocity = hum.SeatPart.CFrame.LookVector * customSpeed
                    end
                end
            end
            task.wait()
        end
        if L_Player.Character and L_Player.Character:FindFirstChild("Humanoid") then
            L_Player.Character.Humanoid.WalkSpeed = 16
        end
    end)
end)

-- 6. Auto Follow Teleport
local targetName = ""
CreateInput("Nama Player yg di-Follow...", function(val)
    targetName = val:lower()
end)

CreateToggle("Auto Follow TP", function(state)
    _G.Follow = state
    spawn(function()
        while _G.Follow do
            for _, v in pairs(Players:GetPlayers()) do
                if v.Name:lower():find(targetName) and v ~= L_Player then
                    if v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
                        L_Player.Character.HumanoidRootPart.CFrame = v.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 4)
                    end
                end
            end
            task.wait()
        end
    end)
end)

-- Draggable UI
local dragStart, startPos, dragging
Main.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true dragStart = i.Position startPos = Main.Position
    end
end)
UserInputService.InputChanged:Connect(function(i)
    if dragging and i.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = i.Position - dragStart
        Main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)
UserInputService.InputEnded:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
end)

print("RakaGanteng Script Loaded!")
